# 2024 RoboMaster JLU 校内赛 AI组考题

**考核要求：**

题目一至四必做，否则记为零分。多做多得分，鼓励在完成题目要求的基础上自由发挥，鼓励做附加题。题目所需模拟环境随题目一起提供，详见本仓库。

## 1. ROS2通信机制

### 1-1. Topic通信

**题目一：（自定义msg）**

宋队看过电视剧《循环》后，经常陷入时间妄想。请告诉他此刻的时间，以打消顾虑。

> 要求使用自定义msg完成任务。一个节点进行当前系统时间的发布，一个节点进行话题的接收，并将接收到的时间打印于终端，话题频率为1hz。

**输出样例：**

```bash
2024年2月1日22时05分20秒
2024年2月1日22时05分21秒
...
```


**题目二：（同一节点既发布也接收）**

设计三个节点，要求如下：

1.节点1号：接受节点3号发布的string类型的数字，判断其是否为一个偶数并将结果 "True/False"（bool类型）发送给节点2号。

2.节点2号：接受节点1号发布的bool值，并根据其值在终端输出"True/False" ，向节点3号发布int32类型的数字，数字以斐波那契数列的顺序发布，当发送的值大于12345时，数字归1重新开始发布。

3.节点3号：接受节点2号发布的int类型的值，转换为string类型，发布给节点2号。

> 涉及到的消息类型ROS中都有自带，但还是希望大家可以通过自定义消息的方式来完成任务。

### 1-2. Service通信

**题目三：（自定义srv）**

乐子喜欢去超市购物，但是总是忘记自己的余额是否能够支撑她的购物车，请你帮她做出能否购买的决定。

> 要求使用自定义srv完成任务。乐子现有500元余额，当你发送购买的商品的金额后，会返回能否购买的提示。

**输入样例：**

```bash
400
```

**输出样例：**

```bash
可以购买
```

**输入样例：**

```bash
600
```

**输出样例：**

```bash
不可以购买
```

### 1-3. Action通信

**题目四：（自定义action）**

现有一个奇怪的烧水壶，它的烧水速度与初始温度有关。设初始温度为y₀，加热时间为t。
若初始温度低于50摄氏度，则它的水温符合y = y₀ + t² (t>0)；若初始温度高于等于50摄氏度，则它的水温增长符合y = y₀ + t (t>0)。若计算水温高于100摄氏度，则保持100摄氏度。

> 要求使用自定义action完成任务。发送初始水温后，可得到每秒的水温（时间从0秒开始，即0秒的水温是初始水温），水烧开则结束。

**输入样例：**

```bash
25
```

**输出样例：**

```bash
25
26
29
34
...
100
```

## 2. 决策规划算法基础

以下题目在二维模拟环境（Pygame）下实现：

**题目五：路径规划**

运用路径规划算法实现点到点移动。

> 设计或移植其他路径规划算法，输入起点(小车位置)与终点，输出路径（多点连线），控制小车由A区移动到B区。可以借鉴但禁止抄袭下一题目模拟环境使用的路径规划模块。

**题目六：决策树**

使用行为树实现多点巡逻行为。

> 设计或使用开源行为树框架，向路径规划模块发布多个目标点，控制小车在地图中连续巡逻。自由设计巡逻路线（多点连线）。

## 3. Navigation2

Navigation 2（以下简称“Nav2”）项目是ROS导航（Navigation）软件堆栈的精神继任者。该项目旨在寻找一种安全的方式让移动机器人从A点移动到B点。Nav2也可以应用于其他涉及机器人导航的应用，例如跟踪动态点。为此，Nav2将会完成动态路径规划、计算电机速度、避开障碍物和恢复行为。

> 要求在三维模拟环境(Gazebo)中部署Navigation2，使用插件不限，实现小车能够导航至任意点击目标点视为完成任务。

## 4. 附加题

### 4-1. 点云处理

**题目七：**

步骤一：从我们提供的两个PCD(Point Cloud Data)文件中任选其一，读取pcd文件，对其进行降采样。

步骤二：自行选择提取平面的方法（如PCA、RANSAC等）对点云进行处理，获得平面参数并输出。

步骤三：将任意一个平面从点云中删除，将处理过后的点云存储为PCD文件。

> 注：希望大家可以将处理后的点云可视化展现出来。

### 4-2. 搭建模拟仿真环境

**题目八：**

复现题目提供的任一模拟环境（严禁照搬照抄），或者自由发挥（仿真环境相关，如Gazebo/Unity/Webots等）。